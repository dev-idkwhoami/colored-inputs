var C=(()=>{return((L,n,f,k)=>{let P=n.createElement("canvas").getContext("2d"),E={r:0,g:0,b:0,h:0,s:0,v:0,a:1},g,c,y,h,G,v,M,z,O,_,D,A,u,N,S,U,w={},l={el:"[data-coloris]",parent:"body",theme:"default",themeMode:"light",rtl:!1,wrap:!0,margin:2,format:"hex",formatToggle:!1,swatches:[],swatchesOnly:!1,alpha:!0,forceAlpha:!1,focusInput:!0,selectInput:!1,inline:!1,defaultColor:"#000000",clearButton:!1,clearLabel:"Clear",closeButton:!1,closeLabel:"Close",onChange:()=>k,a11y:{open:"Open color picker",close:"Close color picker",clear:"Clear the selected color",marker:"Saturation: {s}. Brightness: {v}.",hueSlider:"Hue slider",alphaSlider:"Opacity slider",input:"Color value field",format:"Color format",swatch:"Color swatch",instruction:"Saturation and brightness selector. Use up, down, left and right arrow keys to select."}},R={},Z="",j={},V=!1;function W(e){if(typeof e=="object")for(let r in e)switch(r){case"el":Q(e.el),e.wrap!==!1&&$(e.el);break;case"parent":g=e.parent instanceof HTMLElement?e.parent:n.querySelector(e.parent),g&&(g.appendChild(c),l.parent=e.parent,g===n.body&&(g=k));break;case"themeMode":l.themeMode=e.themeMode,e.themeMode==="auto"&&L.matchMedia&&L.matchMedia("(prefers-color-scheme: dark)").matches&&(l.themeMode="dark");case"theme":e.theme&&(l.theme=e.theme),c.className="clr-picker clr-"+l.theme+" clr-"+l.themeMode,l.inline&&Y();break;case"rtl":l.rtl=!!e.rtl,Array.from(n.getElementsByClassName("clr-field")).forEach(o=>o.classList.toggle("clr-rtl",l.rtl));break;case"margin":e.margin*=1,l.margin=isNaN(e.margin)?l.margin:e.margin;break;case"wrap":e.el&&e.wrap&&$(e.el);break;case"formatToggle":l.formatToggle=!!e.formatToggle,b("clr-format").style.display=l.formatToggle?"block":"none",l.formatToggle&&(l.format="auto");break;case"swatches":if(Array.isArray(e.swatches)){let o=b("clr-swatches"),i=n.createElement("div");o.textContent="",e.swatches.forEach((d,x)=>{let s=n.createElement("button");s.setAttribute("type","button"),s.setAttribute("id","clr-swatch-"+x),s.setAttribute("aria-labelledby","clr-swatch-label clr-swatch-"+x),s.style.color=d,s.textContent=d,i.appendChild(s)}),e.swatches.length&&o.appendChild(i),l.swatches=e.swatches.slice()}break;case"swatchesOnly":l.swatchesOnly=!!e.swatchesOnly,c.setAttribute("data-minimal",l.swatchesOnly);break;case"alpha":l.alpha=!!e.alpha,c.setAttribute("data-alpha",l.alpha);break;case"inline":if(l.inline=!!e.inline,c.setAttribute("data-inline",l.inline),l.inline){let o=e.defaultColor||l.defaultColor;N=re(o),Y(),q(o)}break;case"clearButton":typeof e.clearButton=="object"&&(e.clearButton.label&&(l.clearLabel=e.clearButton.label,M.innerHTML=l.clearLabel),e.clearButton=e.clearButton.show),l.clearButton=!!e.clearButton,M.style.display=l.clearButton?"block":"none";break;case"clearLabel":l.clearLabel=e.clearLabel,M.innerHTML=l.clearLabel;break;case"closeButton":l.closeButton=!!e.closeButton,l.closeButton?c.insertBefore(z,G):G.appendChild(z);break;case"closeLabel":l.closeLabel=e.closeLabel,z.innerHTML=l.closeLabel;break;case"a11y":let t=e.a11y,a=!1;if(typeof t=="object")for(let o in t)t[o]&&l.a11y[o]&&(l.a11y[o]=t[o],a=!0);if(a){let o=b("clr-open-label"),i=b("clr-swatch-label");o.innerHTML=l.a11y.open,i.innerHTML=l.a11y.swatch,z.setAttribute("aria-label",l.a11y.close),M.setAttribute("aria-label",l.a11y.clear),O.setAttribute("aria-label",l.a11y.hueSlider),D.setAttribute("aria-label",l.a11y.alphaSlider),v.setAttribute("aria-label",l.a11y.input),y.setAttribute("aria-label",l.a11y.instruction)}break;default:l[r]=e[r]}}function de(e,r){typeof e=="string"&&typeof r=="object"&&(R[e]=r,V=!0)}function ue(e){delete R[e],Object.keys(R).length===0&&(V=!1,e===Z&&J())}function ae(e){if(V){let r=["el","wrap","rtl","inline","defaultColor","a11y"];for(let t in R){let a=R[t];if(e.matches(t)){Z=t,j={},r.forEach(o=>delete a[o]);for(let o in a)j[o]=Array.isArray(l[o])?l[o].slice():l[o];W(a);break}}}}function J(){Object.keys(j).length>0&&(W(j),Z="",j={})}function Q(e){e instanceof HTMLElement&&(e=[e]),Array.isArray(e)?e.forEach(r=>{p(r,"click",oe),p(r,"input",ie)}):(p(n,"click",e,oe),p(n,"input",e,ie))}function oe(e){l.inline||(ae(e.target),u=e.target,S=u.value,N=re(S),c.classList.add("clr-open"),Y(),q(S),(l.focusInput||l.selectInput)&&(v.focus({preventScroll:!0}),v.setSelectionRange(u.selectionStart,u.selectionEnd)),l.selectInput&&v.select(),(U||l.swatchesOnly)&&pe().shift().focus(),u.dispatchEvent(new Event("open",{bubbles:!0})))}function Y(){if(!c||!u&&!l.inline)return;let e=g,r=L.scrollY,t=c.offsetWidth,a=c.offsetHeight,o={left:!1,top:!1},i,d,x,s={x:0,y:0};if(e&&(i=L.getComputedStyle(e),d=parseFloat(i.marginTop),x=parseFloat(i.borderTopWidth),s=e.getBoundingClientRect(),s.y+=x+r),!l.inline){let m=u.getBoundingClientRect(),B=m.x,H=r+m.y+m.height+l.margin;e?(B-=s.x,H-=s.y,B+t>e.clientWidth&&(B+=m.width-t,o.left=!0),H+a>e.clientHeight-d&&a+l.margin<=m.top-(s.y-r)&&(H-=m.height+a+l.margin*2,o.top=!0),H+=e.scrollTop):(B+t>n.documentElement.clientWidth&&(B+=m.width-t,o.left=!0),H+a-r>n.documentElement.clientHeight&&a+l.margin<=m.top&&(H=r+m.y-a-l.margin,o.top=!0)),c.classList.toggle("clr-left",o.left),c.classList.toggle("clr-top",o.top),c.style.left=B+"px",c.style.top=H+"px",s.x+=c.offsetLeft,s.y+=c.offsetTop}w={width:y.offsetWidth,height:y.offsetHeight,x:y.offsetLeft+s.x,y:y.offsetTop+s.y}}function $(e){e instanceof HTMLElement?ee(e):Array.isArray(e)?e.forEach(ee):n.querySelectorAll(e).forEach(ee)}function ee(e){let r=e.parentNode;if(!r.classList.contains("clr-field")){let t=n.createElement("div"),a="clr-field";(l.rtl||e.classList.contains("clr-rtl"))&&(a+=" clr-rtl"),t.innerHTML='<button type="button" aria-labelledby="clr-open-label"></button>',r.insertBefore(t,e),t.className=a,t.style.color=e.value,t.appendChild(e)}}function ie(e){let r=e.target.parentNode;r.classList.contains("clr-field")&&(r.style.color=e.target.value)}function F(e){if(u&&!l.inline){let r=u;e&&(u=k,S!==r.value&&(r.value=S,r.dispatchEvent(new Event("input",{bubbles:!0})))),setTimeout(()=>{S!==r.value&&r.dispatchEvent(new Event("change",{bubbles:!0}))}),c.classList.remove("clr-open"),V&&J(),r.dispatchEvent(new Event("close",{bubbles:!0})),l.focusInput&&r.focus({preventScroll:!0}),u=k}}function q(e){let r=we(e),t=ye(r);ce(t.s,t.v),K(r,t),O.value=t.h,c.style.color="hsl("+t.h+", 100%, 50%)",_.style.left=t.h/360*100+"%",h.style.left=w.width*t.s/100+"px",h.style.top=w.height-w.height*t.v/100+"px",D.value=t.a*100,A.style.left=t.a*100+"%"}function re(e){let r=e.substring(0,3).toLowerCase();return r==="rgb"||r==="hsl"?r:"hex"}function T(e){e=e!==k?e:v.value,u&&(u.value=e,u.dispatchEvent(new Event("input",{bubbles:!0}))),l.onChange&&l.onChange.call(L,e,u),n.dispatchEvent(new CustomEvent("coloris:pick",{detail:{color:e,currentEl:u}}))}function ne(e,r){let t={h:O.value*1,s:e/w.width*100,v:100-r/w.height*100,a:D.value/100},a=xe(t);ce(t.s,t.v),K(a,t),T()}function ce(e,r){let t=l.a11y.marker;e=e.toFixed(1)*1,r=r.toFixed(1)*1,t=t.replace("{s}",e),t=t.replace("{v}",r),h.setAttribute("aria-label",t)}function fe(e){return{pageX:e.changedTouches?e.changedTouches[0].pageX:e.pageX,pageY:e.changedTouches?e.changedTouches[0].pageY:e.pageY}}function I(e){let r=fe(e),t=r.pageX-w.x,a=r.pageY-w.y;g&&(a+=g.scrollTop),se(t,a),e.preventDefault(),e.stopPropagation()}function he(e,r){let t=h.style.left.replace("px","")*1+e,a=h.style.top.replace("px","")*1+r;se(t,a)}function se(e,r){e=e<0?0:e>w.width?w.width:e,r=r<0?0:r>w.height?w.height:r,h.style.left=e+"px",h.style.top=r+"px",ne(e,r),h.focus()}function K(e,r){e===void 0&&(e={}),r===void 0&&(r={});let t=l.format;for(let i in e)E[i]=e[i];for(let i in r)E[i]=r[i];let a=ve(E),o=a.substring(0,7);switch(h.style.color=o,A.parentNode.style.color=o,A.style.color=a,G.style.color=a,y.style.display="none",y.offsetHeight,y.style.display="",A.nextElementSibling.style.display="none",A.nextElementSibling.offsetHeight,A.nextElementSibling.style.display="",t==="mixed"?t=E.a===1?"hex":"rgb":t==="auto"&&(t=N),t){case"hex":v.value=a;break;case"rgb":v.value=ke(E);break;case"hsl":v.value=Le(me(E));break}n.querySelector('.clr-format [value="'+t+'"]').checked=!0}function be(){let e=O.value*1,r=h.style.left.replace("px","")*1,t=h.style.top.replace("px","")*1;c.style.color="hsl("+e+", 100%, 50%)",_.style.left=e/360*100+"%",ne(r,t)}function ge(){let e=D.value/100;A.style.left=e*100+"%",K({a:e}),T()}function xe(e){let r=e.s/100,t=e.v/100,a=r*t,o=e.h/60,i=a*(1-f.abs(o%2-1)),d=t-a;a=a+d,i=i+d;let x=f.floor(o)%6,s=[a,i,d,d,i,a][x],m=[i,a,a,i,d,d][x],B=[d,d,i,a,a,i][x];return{r:f.round(s*255),g:f.round(m*255),b:f.round(B*255),a:e.a}}function me(e){let r=e.v/100,t=r*(1-e.s/100/2),a;return t>0&&t<1&&(a=f.round((r-t)/f.min(t,1-t)*100)),{h:e.h,s:a||0,l:f.round(t*100),a:e.a}}function ye(e){let r=e.r/255,t=e.g/255,a=e.b/255,o=f.max(r,t,a),i=f.min(r,t,a),d=o-i,x=o,s=0,m=0;return d&&(o===r&&(s=(t-a)/d),o===t&&(s=2+(a-r)/d),o===a&&(s=4+(r-t)/d),o&&(m=d/o)),s=f.floor(s*60),{h:s<0?s+360:s,s:f.round(m*100),v:f.round(x*100),a:e.a}}function we(e){let r=/^((rgba)|rgb)[\D]+([\d.]+)[\D]+([\d.]+)[\D]+([\d.]+)[\D]*?([\d.]+|$)/i,t,a;return P.fillStyle="#000",P.fillStyle=e,t=r.exec(P.fillStyle),t?a={r:t[3]*1,g:t[4]*1,b:t[5]*1,a:t[6]*1}:(t=P.fillStyle.replace("#","").match(/.{2}/g).map(o=>parseInt(o,16)),a={r:t[0],g:t[1],b:t[2],a:1}),a}function ve(e){let r=e.r.toString(16),t=e.g.toString(16),a=e.b.toString(16),o="";if(e.r<16&&(r="0"+r),e.g<16&&(t="0"+t),e.b<16&&(a="0"+a),l.alpha&&(e.a<1||l.forceAlpha)){let i=e.a*255|0;o=i.toString(16),i<16&&(o="0"+o)}return"#"+r+t+a+o}function ke(e){return!l.alpha||e.a===1&&!l.forceAlpha?"rgb("+e.r+", "+e.g+", "+e.b+")":"rgba("+e.r+", "+e.g+", "+e.b+", "+e.a+")"}function Le(e){return!l.alpha||e.a===1&&!l.forceAlpha?"hsl("+e.h+", "+e.s+"%, "+e.l+"%)":"hsla("+e.h+", "+e.s+"%, "+e.l+"%, "+e.a+")"}function Ee(){n.getElementById("clr-picker")||(g=k,c=n.createElement("div"),c.setAttribute("id","clr-picker"),c.className="clr-picker",c.innerHTML='<input id="clr-color-value" name="clr-color-value" class="clr-color" type="text" value="" spellcheck="false" aria-label="'+l.a11y.input+'">'+('<div id="clr-color-area" class="clr-gradient" role="application" aria-label="'+l.a11y.instruction+'">')+'<div id="clr-color-marker" class="clr-marker" tabindex="0"></div></div><div class="clr-hue">'+('<input id="clr-hue-slider" name="clr-hue-slider" type="range" min="0" max="360" step="1" aria-label="'+l.a11y.hueSlider+'">')+'<div id="clr-hue-marker"></div></div><div class="clr-alpha">'+('<input id="clr-alpha-slider" name="clr-alpha-slider" type="range" min="0" max="100" step="1" aria-label="'+l.a11y.alphaSlider+'">')+'<div id="clr-alpha-marker"></div><span></span></div><div id="clr-format" class="clr-format"><fieldset class="clr-segmented">'+("<legend>"+l.a11y.format+"</legend>")+'<input id="clr-f1" type="radio" name="clr-format" value="hex"><label for="clr-f1">Hex</label><input id="clr-f2" type="radio" name="clr-format" value="rgb"><label for="clr-f2">RGB</label><input id="clr-f3" type="radio" name="clr-format" value="hsl"><label for="clr-f3">HSL</label><span></span></fieldset></div><div id="clr-swatches" class="clr-swatches"></div>'+('<button type="button" id="clr-clear" class="clr-clear" aria-label="'+l.a11y.clear+'">'+l.clearLabel+"</button>")+'<div id="clr-color-preview" class="clr-preview">'+('<button type="button" id="clr-close" class="clr-close" aria-label="'+l.a11y.close+'">'+l.closeLabel+"</button>")+"</div>"+('<span id="clr-open-label" hidden>'+l.a11y.open+"</span>")+('<span id="clr-swatch-label" hidden>'+l.a11y.swatch+"</span>"),n.body.appendChild(c),y=b("clr-color-area"),h=b("clr-color-marker"),M=b("clr-clear"),z=b("clr-close"),G=b("clr-color-preview"),v=b("clr-color-value"),O=b("clr-hue-slider"),_=b("clr-hue-marker"),D=b("clr-alpha-slider"),A=b("clr-alpha-marker"),Q(l.el),$(l.el),p(c,"mousedown",e=>{c.classList.remove("clr-keyboard-nav"),e.stopPropagation()}),p(y,"mousedown",e=>{p(n,"mousemove",I)}),p(y,"contextmenu",e=>{e.preventDefault()}),p(y,"touchstart",e=>{n.addEventListener("touchmove",I,{passive:!1})}),p(h,"mousedown",e=>{p(n,"mousemove",I)}),p(h,"touchstart",e=>{n.addEventListener("touchmove",I,{passive:!1})}),p(v,"change",e=>{let r=v.value;if(u||l.inline){let t=r===""?r:q(r);T(t)}}),p(M,"click",e=>{T(""),F()}),p(z,"click",e=>{T(),F()}),p(b("clr-format"),"click",".clr-format input",e=>{N=e.target.value,K(),T()}),p(c,"click",".clr-swatches button",e=>{q(e.target.textContent),T(),l.swatchesOnly&&F()}),p(n,"mouseup",e=>{n.removeEventListener("mousemove",I)}),p(n,"touchend",e=>{n.removeEventListener("touchmove",I)}),p(n,"mousedown",e=>{U=!1,c.classList.remove("clr-keyboard-nav"),F()}),p(n,"keydown",e=>{let r=e.key,t=e.target,a=e.shiftKey;if(r==="Escape"?F(!0):["Tab","ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(r)&&(U=!0,c.classList.add("clr-keyboard-nav")),r==="Tab"&&t.matches(".clr-picker *")){let i=pe(),d=i.shift(),x=i.pop();a&&t===d?(x.focus(),e.preventDefault()):!a&&t===x&&(d.focus(),e.preventDefault())}}),p(n,"click",".clr-field button",e=>{V&&J(),e.target.nextElementSibling.dispatchEvent(new Event("click",{bubbles:!0}))}),p(h,"keydown",e=>{let r={ArrowUp:[0,-1],ArrowDown:[0,1],ArrowLeft:[-1,0],ArrowRight:[1,0]};Object.keys(r).includes(e.key)&&(he(...r[e.key]),e.preventDefault())}),p(y,"click",I),p(O,"input",be),p(D,"input",ge))}function pe(){return Array.from(c.querySelectorAll("input, button")).filter(t=>!!t.offsetWidth)}function b(e){return n.getElementById(e)}function p(e,r,t,a){let o=Element.prototype.matches||Element.prototype.msMatchesSelector;typeof t=="string"?e.addEventListener(r,i=>{o.call(i.target,t)&&a.call(i.target,i)}):(a=t,e.addEventListener(r,a))}function X(e,r){r=r!==k?r:[],n.readyState!=="loading"?e(...r):n.addEventListener("DOMContentLoaded",()=>{e(...r)})}NodeList!==k&&NodeList.prototype&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach);function Ce(e,r){u=r,S=u.value,ae(r),N=re(e),Y(),q(e),T(),S!==e&&u.dispatchEvent(new Event("change",{bubbles:!0}))}let te=(()=>{let e={init:Ee,set:W,wrap:$,close:F,setInstance:de,setColor:Ce,removeInstance:ue,updatePosition:Y,ready:X};function r(t){X(()=>{t&&(typeof t=="string"?Q(t):W(t))})}for(let t in e)r[t]=function(){for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];X(e[t],o)};return X(()=>{L.addEventListener("resize",t=>{r.updatePosition()}),L.addEventListener("scroll",t=>{r.updatePosition()})}),r})();return te.coloris=te,te})(window,document,Math)})(),He=C.coloris,Pe=C.init,Me=C.set,ze=C.wrap,Oe=C.close,De=C.setInstance,Fe=C.removeInstance,Ne=C.updatePosition,le=C;function Ae({state:L,style:n,theme:f,themeMode:k,options:P}){return{state:L,refresh:(E,g=!1)=>{g&&this.$refs.coloredInput.setAttribute("value",E),this.$refs.coloredInput.dispatchEvent(new Event("input",{bubbles:!0}))},init(){this.$watch("state",this.refresh),le.init();let E=le({themeMode:k,theme:f,el:this.$refs.coloredInput,defaultColor:this.state,onChange:c=>this.state=c,...P}),g=this.$refs.coloredInput.closest(".clr-field");g&&n.length>0&&g.parentElement.classList.add(n),this.refresh(this.state,!0)}}}export{Ae as default};
/*! Bundled license information:

@melloware/coloris/dist/esm/coloris.js:
  (*!
  * Copyright (c) 2021-2024 Momo Bassit.
  * Licensed under the MIT License (MIT)
  * https://github.com/mdbassit/Coloris
  * Version: 0.24.0
  * NPM: https://github.com/melloware/coloris-npm
  *)
*/
